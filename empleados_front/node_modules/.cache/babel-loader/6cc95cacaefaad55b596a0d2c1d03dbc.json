{"ast":null,"code":"import { isUndefined } from \"util\";\nimport axios from \"axios\";\nimport Cookies from \"universal-cookie/es6\";\nconst cookies = new Cookies();\nexport function calcularExpiracionSesion() {\n  const now = new Date().getTime();\n  const newDate = now + 60 * 30 * 1000;\n  return new Date(newDate);\n}\nexport function getSesion() {\n  return isUndefined(cookies.get('_s')) ? false : cookies.get('_s');\n}\nfunction renovarSesion() {\n  const sesion = getSesion();\n  if (!sesion) window.location.href = \"/login\";\n  cookies.set(\"_s\", sesion, {\n    path: \"/\",\n    expires: calcularExpiracionSesion()\n  });\n  return sesion;\n}\nexport const request = {\n  get: function (url) {\n    renovarSesion();\n    return axios.get(url);\n  }\n};","map":{"version":3,"names":["isUndefined","axios","Cookies","cookies","calcularExpiracionSesion","now","Date","getTime","newDate","getSesion","get","renovarSesion","sesion","window","location","href","set","path","expires","request","url"],"sources":["C:/Users/Luisa F/Documents/MisionTIC/proyectoCiclo4/e-commerce/empleados_front/src/components/helper/helper.js"],"sourcesContent":["import { isUndefined } from \"util\";\r\nimport axios from \"axios\";\r\nimport Cookies from \"universal-cookie/es6\";\r\nconst cookies = new Cookies();\r\n\r\nexport function calcularExpiracionSesion() {\r\n    const now = new Date().getTime();\r\n    const newDate = now + 60 * 30 * 1000;\r\n\r\n    return new Date(newDate);\r\n}\r\n\r\nexport function getSesion() {\r\n    return isUndefined(cookies.get('_s')) ? false : cookies.get('_s');\r\n}\r\n\r\nfunction renovarSesion() {\r\n    const sesion = getSesion();\r\n    if (!sesion) window.location.href = \"/login\";\r\n\r\n    cookies.set(\"_s\", sesion, {\r\n        path: \"/\",\r\n        expires: calcularExpiracionSesion(),\r\n    });\r\n    return sesion;\r\n}\r\n\r\n\r\nexport const request = {\r\n    get: function (url) {\r\n        renovarSesion();\r\n        return axios.get(url);\r\n\r\n    },\r\n};\r\n\r\n"],"mappings":"AAAA,SAASA,WAAW,QAAQ,MAAM;AAClC,OAAOC,KAAK,MAAM,OAAO;AACzB,OAAOC,OAAO,MAAM,sBAAsB;AAC1C,MAAMC,OAAO,GAAG,IAAID,OAAO,EAAE;AAE7B,OAAO,SAASE,wBAAwB,GAAG;EACvC,MAAMC,GAAG,GAAG,IAAIC,IAAI,EAAE,CAACC,OAAO,EAAE;EAChC,MAAMC,OAAO,GAAGH,GAAG,GAAG,EAAE,GAAG,EAAE,GAAG,IAAI;EAEpC,OAAO,IAAIC,IAAI,CAACE,OAAO,CAAC;AAC5B;AAEA,OAAO,SAASC,SAAS,GAAG;EACxB,OAAOT,WAAW,CAACG,OAAO,CAACO,GAAG,CAAC,IAAI,CAAC,CAAC,GAAG,KAAK,GAAGP,OAAO,CAACO,GAAG,CAAC,IAAI,CAAC;AACrE;AAEA,SAASC,aAAa,GAAG;EACrB,MAAMC,MAAM,GAAGH,SAAS,EAAE;EAC1B,IAAI,CAACG,MAAM,EAAEC,MAAM,CAACC,QAAQ,CAACC,IAAI,GAAG,QAAQ;EAE5CZ,OAAO,CAACa,GAAG,CAAC,IAAI,EAAEJ,MAAM,EAAE;IACtBK,IAAI,EAAE,GAAG;IACTC,OAAO,EAAEd,wBAAwB;EACrC,CAAC,CAAC;EACF,OAAOQ,MAAM;AACjB;AAGA,OAAO,MAAMO,OAAO,GAAG;EACnBT,GAAG,EAAE,UAAUU,GAAG,EAAE;IAChBT,aAAa,EAAE;IACf,OAAOV,KAAK,CAACS,GAAG,CAACU,GAAG,CAAC;EAEzB;AACJ,CAAC"},"metadata":{},"sourceType":"module"}